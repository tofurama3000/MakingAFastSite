 
<html>
<head>
<title>Waiting for the Show</title>
<style>.cl,h2{clear:both}body{font-family:Calabri,Arial,Sans-Serif}#bg{width:100%;position:absolute;z-index:-9999;top:0;left:0;background:#040;height:50px}.cntr{margin:auto}@media (min-width:1200px){.cntr{width:50%}}@media (max-width:1199px){.cntr{width:60%}}@media (max-width:899px){.cntr{width:80%}}@media (max-width:500px){.cntr{width:90%}}#nav,#navm{height:20px;font-size:18pt;font-family:Gregoria,Times New Roman,Serif}#navm{display:none}.c1{float:left;width:100%}#navm div,.c2,.c2Med{float:left;width:48%;padding:1%}.c3,.c3Med,.c3MedO{width:30%;float:left;padding:1%}.r{float:right}@media (max-width:700px){#nav{display:none}#navm{display:block}.c2Med,.c3,.c3Med{width:100%!important;padding:0}.c2MedO,.c3MedO{display:none}.topOffset{position:relative}}@media (max-width:850px){.c3,.c3Med,.c3MedO{width:50%;padding:0}}#nav div,.c4{float:left;width:23%;padding:1%}a{text-decoration:none;color:green;font-weight:700}a:hover{text-decoration:underline}#nav a,#navm a{color:#eee}#nav a:hover{ color:#000; text-decoration:none; } #foot{ padding-top:50px; }</style>
</head>
<body>
<div class="cntr">
 <div id="bg"></div><div id="nav"><div><a href="index.html">Home</a></div><div><a href="optimization-list.html">Optimize</div><div><a href="html-list.html">HTML</a></div><div></div></div><div id="navm"><div><a href="index.html">Home</a></div><div><a href="tutorial-list.html">Learn</a></div></div><br>
<h1 class="c2Med r">No Light, No Camera, No Action</h1>
<span id="tv">
    <div class="c2Med">
        <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 560 570" version="1.1"><style>.s0{fill:#000;stroke-linecap:round;stroke:#000;}.s1{fill:#999;stroke:#000;}</style><g transform="translate(-84.555862,-29.862068)"><rect width="519.2" height="359.6" x="105.1" y="219.7" rx="80" ry="80" style="fill:#ac9393;stroke-linecap:round;stroke:#000"/><rect width="414.4" height="287" x="157.5" y="255" rx="63.8" ry="63.8" style="fill:#ececec;stroke-linecap:round;stroke-width:0.8;stroke:#000"/><path d="M267.4 63.4 365.4 219 468.4 58.4" style="fill:none;stroke:#000"/><circle cx="266.7" cy="63.4" r="7.1" class="s0"/><circle cx="468.7" cy="56.4" r="5.1" class="s0"/><path d="m157.6 457.1 58.6-50.2-35.4-17.2 63.6-50.5-32.3-17.2 79.8-65.8 44.4 0.3-60.6 52.4 38.4 22.2-67.7 52.5 43.4 17.2-125.3 108.5c-6.5-15.8-7.2-21.6-7-52.3zM274 541.6l57.5-57.9-35-12.9 73.6-75.7-35-10.4 46.1-53.6-23.9-9.3 57.5-67.5 43.9 1.1-47.9 55.4 31.4 15.7-41.4 46.4 43.2 13.2-73.6 82.1 34.6 11.8-62.1 61.4-66.4 0M450.4 541.6l49.3-60-26.1-9.6 54.3-60-24.6-7.5 38.9-66.8-17.9-6.4L562.5 286.6c2.6-3 10.7 23.2 10.4 27.9C572.5 319.1 572.5 354.1 572.5 354.1l-17.5 35.7 17.5 7.5 0.7 20.7-34.3 49.6 28.9 10.7-54.6 62.9z" class="s1"/></g></svg>
    </div>
</span>
<p>Once we get the HTML page, we don't immediately pop it up on screen. No matter how much fun that sounds, doing that would be a nightmare for a user! Immagine if Google's homepage looked indistinguishable from a text file, or Amazon was just a long list of text links. Most users would be pretty upset (I say most since some are reminiscent of the DOS era). So, the browser has to wait, but what's it waiting for?
<h1 style="clear:none;">Critical Rendering Path</h1>
<p>This is just a quick, summary where we gloss over just enough that you get the main idea. I strongly recommend reading <a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/?hl=en">Google's documentation</a> on this since it's A+ material.
<h2>Trees</h2>
<span id="tree">
    <div class="c2MedO r">
        <svg viewBox="0 0 105 145" width="70%" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-6.065992 -905.0843)"><ellipse cx="53.330597" cy="919.20917" fill="none" rx="24.804403" ry="12.935111" stroke="#000" stroke-linecap="round" stroke-width=".636133"/><text font-family="sans-serif" font-size="40" letter-spacing="0" line-height="125%" word-spacing="0" x="33.738586" xml:space="preserve" y="923.1236"><tspan font-size="10" x="33.738586" y="923.1236">&lt;Body&gt;</tspan></text><text font-family="sans-serif" font-size="40" letter-spacing="0" line-height="125%" word-spacing="0" x="36.850266" xml:space="preserve" y="963.23651"><tspan font-size="10" x="36.850266" y="963.23651">&lt;div&gt;</tspan></text><text font-family="sans-serif" font-size="40" letter-spacing="0" line-height="125%" word-spacing="0" x="59.368286" xml:space="preserve" y="998.52679"><tspan font-size="10" x="59.368286" y="998.52679">color:red</tspan></text><text font-family="sans-serif" font-size="40" letter-spacing="0" line-height="125%" word-spacing="0" x="12.143656" xml:space="preserve" y="1000.0421"><tspan font-size="10" x="12.143656" y="1000.0421">&lt;i&gt;</tspan></text><text font-family="sans-serif" font-size="40" letter-spacing="0" line-height="125%" word-spacing="0" x="25.233507" xml:space="preserve" y="1039.5031"><tspan font-size="10" x="25.233507" y="1039.5031">Hello World!</tspan></text><ellipse cx="52.21888" cy="959.82721" fill="none" rx="19.409225" ry="11.995562" stroke="#000" stroke-linecap="round"/><ellipse cx="21.824244" cy="996.42493" fill="none" rx="13.322444" ry="8.019144" stroke="#000" stroke-linecap="round" stroke-width=".871615"/><ellipse cx="81.549515" cy="995.54095" fill="none" rx="29.592844" ry="12.167711" stroke="#000" stroke-linecap="round" stroke-width=".908239"/><ellipse cx="53.644051" cy="1035.5887" fill="none" rx="37.291489" ry="12.037672" stroke="#000" stroke-linecap="round" stroke-width=".915779"/><path d="m22.208128 1004.9003l29.041885 18.9403" fill="none" fill-rule="evenodd" stroke="#000"/><path d="m80.796975 983.68708l-27.526657-12.12183-30.809652 16.92005" fill="none" fill-rule="evenodd" stroke="#000"/><path d="m53.270318 932.1693v15.9099" fill="none" fill-rule="evenodd" stroke="#000"/></g></svg>
    </div>
</span>
<p>No, it's not trees that we plant or fake trees from <i>Dr. Suess' The Lorax</i> (the movie anyway). This is a way of structuring and storing data and is used by browsers to represent HTML and CSS once it's read the files. Basically, before we can render, we need to represent all HTML and CSS being used, and before we can do that we have to load all HTML and CSS we're told to. If we have 5 CSS file we're told to load, then we need to load all 5 files before we can display the page. If our HTML file takes five messages to receive we need to wait for all five messages. 
<p>Once we've made both the HTML and the CSS-trees, we can combine them to create the HTML elements that are now formatted how we want. We then go through the rendering process which has its own process.
<h2 style="clear:none;">JavaScript</h2>
<p>JavaScript itself can be a performance gremlin. If you aren't careful, it'll eat up the speed of your page. By default, any time JavaScript is encountered on a page, the browser will stop, parse and run the JS, and then continue (Microsoft Edge has some <a href="https://blogs.windows.com/msedgedev/2016/06/22/javascript-performance-updates-anniversary-update/#4M4CESQQmaxSxA2w.97" target="_blank">Deferred Parsing</a>, but only for very special cases). This blocking happens at the occurrence of any &lt;script&gt; tag, and if JavaScript is in an external file it'll wait for that file to load too.
<p>Luckily, the workaround for external files is you add the <code>async</code> property to the &lt;script&gt; tag. Unluckily, this makes it asynchronous, and if you've worked with asynchronous programming you know it means that you never know <i>when</i> something happens. This has been a hurdle for me when I need to load Angular, jQuery, and custom files in a specific order, since once the async tag is introduced there is no guarantee what order they'll come in. To work with this, I combined the files into one file on the server side so that the JavaScript could be loaded asynchronously and the requisite order could be matched at the same time.
<p>Let's <a href="make-the-show-faster.html">Make the Show Faster</a>.
</div>
<div style="margin-top:50px;font-size:10pt;clear:both;" class="cntr">&copy; 2016 Matthew Tolman</div>
</body>
</html>
